# OneCar å•†å“åå°ç®¡ç†ç³»ç»Ÿ

[![Build Status](https://github.com/onecar/onecar/workflows/Test%20Suite/badge.svg)](https://github.com/onecar/onecar/actions)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æ±½è½¦å•†å“åå°ç®¡ç†ç³»ç»Ÿï¼ŒåŸºäºç°ä»£ Web æŠ€æœ¯æ ˆæ„å»ºï¼Œå…·å¤‡å®Œå–„çš„å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²å’Œç›‘æ§åŠŸèƒ½ã€‚

## âœ¨ ç‰¹æ€§

- **å•†å“ç®¡ç†**: å®Œæ•´çš„CRUDæ“ä½œï¼Œæ”¯æŒå›¾ç‰‡ä¸Šä¼ å’Œé¢„è§ˆ
- **åˆ†ç±»ç®¡ç†**: å±‚çº§åˆ†ç±»ç»“æ„ï¼Œæ”¯æŒæ‹–æ‹½æ’åº
- **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡ç¼–è¾‘ã€åˆ é™¤å’Œå¯¼å…¥å¯¼å‡º
- **æœç´¢è¿‡æ»¤**: å¤šæ¡ä»¶æœç´¢ï¼Œå®æ—¶ç­›é€‰
- **æ•°æ®å¯è§†åŒ–**: å›¾è¡¨å±•ç¤ºï¼Œæ•°æ®ç»Ÿè®¡åˆ†æ
- **ç°ä»£æŠ€æœ¯æ ˆ**: React 18 + TypeScript + Node.js
- **å¼€ç®±å³ç”¨**: ä¸€é”®å¯åŠ¨å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒ
- **å®Œæ•´æµ‹è¯•**: å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€E2Eæµ‹è¯•
- **å®¹å™¨åŒ–éƒ¨ç½²**: Docker + Docker Compose æ”¯æŒ
- **å®æ—¶ç›‘æ§**: å¥åº·æ£€æŸ¥ã€æ€§èƒ½ç›‘æ§ã€æ—¥å¿—ç³»ç»Ÿ

## ğŸ— ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nginxä»£ç†     â”‚â”€â”€â”€â”€â”‚   å‰ç«¯æœåŠ¡      â”‚â”€â”€â”€â”€â”‚   åç«¯API      â”‚
â”‚   (ç«¯å£80)      â”‚    â”‚   (ç«¯å£3000)    â”‚    â”‚   (ç«¯å£3001)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚                        â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   æ–‡ä»¶å­˜å‚¨      â”‚    â”‚   æ—¥å¿—ç³»ç»Ÿ      â”‚
                       â”‚   uploads/      â”‚    â”‚   logs/         â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

| åˆ†ç±» | æŠ€æœ¯é€‰æ‹© | ç‰ˆæœ¬è¦æ±‚ |
|------|----------|----------|
| **å‰ç«¯æ¡†æ¶** | React | ^18.2.0 |
| **æ„å»ºå·¥å…·** | Vite | ^4.4.5 |
| **ç±»å‹ç³»ç»Ÿ** | TypeScript | ^5.0.2 |
| **UIç»„ä»¶åº“** | Ant Design | ^5.9.0 |
| **åç«¯æ¡†æ¶** | Express.js | ^4.18.2 |
| **è¿è¡Œç¯å¢ƒ** | Node.js | >=16.0.0 |
| **å®¹å™¨åŒ–** | Docker | latest |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 8.0.0
- æ“ä½œç³»ç»Ÿ: macOS / Linux / Windows

### ä¸€é”®å¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/onecar/onecar.git
cd onecar

# 2. ç¯å¢ƒæ£€æŸ¥ï¼ˆæ¨èï¼‰
./scripts/env-check.sh

# 3. å®‰è£…ä¾èµ–
./scripts/deps.sh install all

# 4. å¯åŠ¨å¼€å‘ç¯å¢ƒ
./start.sh all
```

å¯åŠ¨åè®¿é—®ï¼š
- ğŸŒ **å‰ç«¯åº”ç”¨**: http://localhost:3000
- ğŸ”— **åç«¯API**: http://localhost:3001
- â¤ï¸ **å¥åº·æ£€æŸ¥**: http://localhost:3001/api/health

### Docker éƒ¨ç½²

```bash
# å¼€å‘ç¯å¢ƒ
./scripts/docker.sh start development

# ç”Ÿäº§ç¯å¢ƒ
./scripts/docker.sh start production
```

## ğŸ“‹ ä½¿ç”¨æŒ‡å—

### æ ¸å¿ƒè„šæœ¬

| è„šæœ¬ | åŠŸèƒ½ | ç¤ºä¾‹ |
|------|------|------|
| `start.sh` | æœåŠ¡ç®¡ç† | `./start.sh all` |
| `scripts/deps.sh` | ä¾èµ–ç®¡ç† | `./scripts/deps.sh install` |
| `scripts/test.sh` | æµ‹è¯•æ‰§è¡Œ | `./scripts/test.sh all coverage` |
| `scripts/docker.sh` | å®¹å™¨ç®¡ç† | `./scripts/docker.sh build production` |
| `scripts/env-check.sh` | ç¯å¢ƒæ£€æŸ¥ | `./scripts/env-check.sh` |

### å¼€å‘å‘½ä»¤

```bash
# æœåŠ¡ç®¡ç†
./start.sh all          # å¯åŠ¨æ‰€æœ‰æœåŠ¡
./start.sh stop         # åœæ­¢æ‰€æœ‰æœåŠ¡
./start.sh status       # æŸ¥çœ‹çŠ¶æ€
./start.sh monitor      # å®æ—¶ç›‘æ§
./start.sh health       # å¥åº·æ£€æŸ¥

# æµ‹è¯•æ‰§è¡Œ
./scripts/test.sh all coverage    # è¿è¡Œæ‰€æœ‰æµ‹è¯•
./scripts/test.sh frontend watch  # å‰ç«¯ç›‘è§†æ¨¡å¼
./scripts/test.sh report          # ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

# ä¾èµ–ç®¡ç†
./scripts/deps.sh status       # ä¾èµ–çŠ¶æ€
./scripts/deps.sh update all   # æ›´æ–°ä¾èµ–
./scripts/deps.sh audit        # å®‰å…¨æ£€æŸ¥
```

## ğŸ§ª æµ‹è¯•

### æµ‹è¯•æ¡†æ¶
- **å‰ç«¯**: Vitest + Testing Library + jsdom
- **åç«¯**: Jest + Supertest
- **è¦†ç›–ç‡**: æ”¯æŒä»£ç è¦†ç›–ç‡æŠ¥å‘Š
- **CI/CD**: GitHub Actions è‡ªåŠ¨åŒ–æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
./scripts/test.sh all

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
./scripts/test.sh all coverage

# ç›‘è§†æ¨¡å¼ï¼ˆå¼€å‘æ—¶æ¨èï¼‰
./scripts/test.sh frontend watch
```

## ğŸ“Š ç›‘æ§ä¸è°ƒè¯•

### å¥åº·æ£€æŸ¥

- **åŸºç¡€æ£€æŸ¥**: `/api/health` - æœåŠ¡åŸºæœ¬çŠ¶æ€
- **è¯¦ç»†æ£€æŸ¥**: `/api/health/detailed` - åŒ…å«ä¾èµ–æ£€æŸ¥
- **å°±ç»ªæ£€æŸ¥**: `/api/ready` - Kubernetes Readiness Probe
- **å­˜æ´»æ£€æŸ¥**: `/api/live` - Kubernetes Liveness Probe
- **ç³»ç»Ÿä¿¡æ¯**: `/api/info` - è¯¦ç»†ç³»ç»Ÿä¿¡æ¯
- **æ€§èƒ½æŒ‡æ ‡**: `/api/metrics` - æ€§èƒ½ç›‘æ§æ•°æ®

### æ—¥å¿—ç³»ç»Ÿ

```
logs/
â”œâ”€â”€ app.log              # åº”ç”¨ä¸»æ—¥å¿—
â”œâ”€â”€ frontend.log         # å‰ç«¯æœåŠ¡æ—¥å¿—
â”œâ”€â”€ backend.log          # åç«¯æœåŠ¡æ—¥å¿—
â””â”€â”€ nginx/              # Nginx è®¿é—®å’Œé”™è¯¯æ—¥å¿—
    â”œâ”€â”€ access.log
    â””â”€â”€ error.log
```

### è°ƒè¯•å·¥å…·

#### å‰ç«¯è°ƒè¯•
```javascript
// æµè§ˆå™¨æ§åˆ¶å°ä¸­ä½¿ç”¨
window.__ONECAR_DEBUG__.getLogs()      // è·å–è°ƒè¯•æ—¥å¿—
window.__ONECAR_DEBUG__.exportLogs()   // å¯¼å‡ºæ—¥å¿—æ–‡ä»¶
window.__ONECAR_DEBUG__.getSystemInfo() // ç³»ç»Ÿä¿¡æ¯
```

## ğŸ³ Docker éƒ¨ç½²

### å¿«é€Ÿéƒ¨ç½²

```bash
# ç”Ÿäº§ç¯å¢ƒå¿«é€Ÿéƒ¨ç½²
docker-compose up -d

# ä½¿ç”¨ç®¡ç†è„šæœ¬
./scripts/docker.sh start production
```

### å¤šç¯å¢ƒæ”¯æŒ

- **å¼€å‘ç¯å¢ƒ**: `docker-compose.dev.yml` - æ”¯æŒçƒ­é‡è½½
- **ç”Ÿäº§ç¯å¢ƒ**: `docker-compose.yml` - ä¼˜åŒ–æ„å»ºå¤§å°å’Œå®‰å…¨é…ç½®

## âš™ï¸ é…ç½®ç®¡ç†

### ç¯å¢ƒå˜é‡

#### å‰ç«¯é…ç½®
```bash
# frontend/.env.development
VITE_API_BASE_URL=http://localhost:3001/api
VITE_APP_TITLE=OneCar å•†å“ç®¡ç†ç³»ç»Ÿ
VITE_ENABLE_DEBUG=true
```

#### åç«¯é…ç½®
```bash
# backend/.env.development  
NODE_ENV=development
PORT=3001
JWT_SECRET=your-jwt-secret
CORS_ORIGINS=http://localhost:3000
LOG_LEVEL=debug
```

## ğŸ” å®‰å…¨

### å®‰å…¨æªæ–½

- **JWT è®¤è¯**: Token-based èº«ä»½éªŒè¯
- **CORS é…ç½®**: è·¨åŸŸè¯·æ±‚æ§åˆ¶
- **Helmet ä¸­é—´ä»¶**: HTTP å¤´å®‰å…¨è®¾ç½®
- **é€Ÿç‡é™åˆ¶**: API è°ƒç”¨é¢‘ç‡æ§åˆ¶
- **è¾“å…¥éªŒè¯**: è¯·æ±‚æ•°æ®éªŒè¯å’Œæ¸…ç†
- **æ–‡ä»¶ä¸Šä¼ å®‰å…¨**: æ–‡ä»¶ç±»å‹å’Œå¤§å°é™åˆ¶

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ç›‘æ§æŒ‡æ ‡
- **é¦–å±åŠ è½½æ—¶é—´** < 2s
- **API å“åº”æ—¶é—´** < 200ms
- **é”™è¯¯ç‡** < 1%
- **å†…å­˜ä½¿ç”¨ç‡** < 80%
- **CPU ä½¿ç”¨ç‡** < 70%

## ğŸ“š æ–‡æ¡£

- **[éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT.md)** - è¯¦ç»†çš„éƒ¨ç½²å’Œè¿ç»´æŒ‡å—
- **API æ–‡æ¡£** - åç«¯ API æ¥å£æ–‡æ¡£
- **ç»„ä»¶æ–‡æ¡£** - å‰ç«¯ç»„ä»¶ä½¿ç”¨è¯´æ˜

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### ç«¯å£å†²çª
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :3000
lsof -i :3001

# ä¿®æ”¹é…ç½®æ–‡ä»¶ç«¯å£æˆ–ç»ˆæ­¢å ç”¨è¿›ç¨‹
```

#### ä¾èµ–å®‰è£…å¤±è´¥
```bash
# æ¸…ç†ç¼“å­˜é‡æ–°å®‰è£…
./scripts/deps.sh clean all
./scripts/deps.sh install all
```

#### æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
./start.sh logs all

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
./start.sh status

# æ‰§è¡Œå¥åº·æ£€æŸ¥
./start.sh health
```

### è·å–å¸®åŠ©

1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼š`logs/` ç›®å½•
2. è¿è¡Œå¥åº·æ£€æŸ¥ï¼š`./start.sh health`
3. ç”Ÿæˆè¯Šæ–­æŠ¥å‘Šï¼š`./scripts/env-check.sh`
4. æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€ï¼š`./start.sh status`

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·æŸ¥çœ‹è´¡çŒ®æŒ‡å—äº†è§£å¦‚ä½•å‚ä¸é¡¹ç›®å¼€å‘ã€‚

### è´¡çŒ®æµç¨‹
1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤å˜æ›´
4. åˆ›å»º Pull Request
5. ä»£ç å®¡æŸ¥
6. åˆå¹¶ä»£ç 

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä½¿ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## ğŸ“ è”ç³»æˆ‘ä»¬

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/onecar/onecar
- **é—®é¢˜åé¦ˆ**: https://github.com/onecar/onecar/issues
- **è®¨è®ºåŒº**: https://github.com/onecar/onecar/discussions

---

<div align="center">
  <p>å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Starï¼</p>
  <p>Built with â¤ï¸ by OneCar Team</p>
</div>